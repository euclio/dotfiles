# Make default editor into vim
export EDITOR=/usr/bin/vim

# Use vim as the manpager
export MANPAGER="/bin/sh -c \"col -b |
    vim -R +AirlineToggle \
        -c 'set ft=man ts=8 nolist noru nonu nornu noma nosc tw=0 ls=0' -\""

# Use vi-style keybindings when in the terminal
set -o vi

# Enable autocomplete in Python interpreter
export PYTHONSTARTUP=~/.pythonrc

# Make terminal advertise 256 color support (from Ubuntu default .bash_profile)
if [ "$TERM" = "xterm" ] ; then
    if [ -z "$COLORTERM" ] ; then
        if [ -z "$XTERM_VERSION" ] ; then
            echo "Warning: Terminal wrongly calling iteself 'xterm'."
        else
            case "$XTERM_VERSION" in
            "XTerm(256)") TERM="xterm-256color" ;;
            "XTerm(88)") TERM="xterm-88color" ;;
            "XTerm") ;;
            *)
                echo "Warning: Unrecognized XTERM_VERSION: $XTERM_VERSION"
                ;;
            esac
        fi
    else
        case "$COLORTERM" in
            gnome-terminal)
                # Those crafty Gnome folks require you to check COLORTERM,
                # but don't allow you to just *favor* the setting over TERM.
                # Instead you need to compare it and perform some guesses
                # based upon the value. This is, perhaps, too simplistic.
                TERM="gnome-256color"
                ;;
            *)
                echo "Warning: Unrecognized COLORTERM: $COLORTERM"
                ;;
        esac
    fi
fi


# SSH into a tmux session
ssht() {
    ssh $* -t 'tmux attach || tmux || /bin/bash'
}

# Allows bash aliases to be stored in a different file
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi

# Disable flow control. Instead pass Ctrl-S and Ctrl-Q through.
stty -ixon

# Add ruby gem executables to PATH
PATH="$(ruby -e 'puts Gem.user_dir')/bin:$PATH"

# If a local bashrc exists, then source it.
if [ -f ~/.bashrc_local ]; then
    . ~/.bashrc_local
fi
